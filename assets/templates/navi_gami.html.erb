<section class="heading b-b">
  <div class="row no-gutter">
    <div class="col-xs-2 col-sm-2 col-md-1">
      <section class="heading-btn">
        <a href="#" ng-click="backPrevLocation($event)"><i class="fa fa-long-arrow-left "></i></a>
      </section>
    </div>
    <div class="col-xs-10 col-sm-10 col-md-8 b-l">
      <section class="heading-title">
        <h1 translate>{{ 'navi_gami.page_title' }}</h1>
      </section>
    </div>

  </div>
</section>

<section class="m-lg">
  <div class="row">
    <div class="col-md-12">
      <uib-tabset justified="true">
        <uib-tab heading="{{ 'navi_gami.config_tab_header' | translate }}">
          <div class="row">
            <div class="col-md-5">
              <form role="form" class="m-t-lg" novalidate>
                <label for="config[external_space_url]" class="control-label" translate>{{ 'navi_gami.config.external_space_url' }}</label>
                <div class="form-group">
                  <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-link"></i></span>
                    <input type="text" id="config_external_space_url" ng-model="config.external_space_url" class="form-control" placeholder="http://cyou.cap-sciences.net"/>
                  </div>
                </div>
                <label for="config[external_space_url]" class="control-label" translate>{{ 'navi_gami.config.api_url' }}</label>
                <div class="form-group">
                  <div class="input-group">
                    <span class="input-group-addon"><i class="fa fa-link"></i></span>
                    <input type="text" id="config_api_url" ng-model="config.api_url" class="form-control" placeholder="http://api2.cap-sciences.net/api.php"/>
                  </div>
                </div>
                <!-- <div class="form-group">
                <div class="input-group">
                <input type="text" id="config_external_space_url" ng-model="config.external_space_url" class="form-control" placeholder="http://cyou.cap-sciences.net"/>
              </div>
            </div> -->
            <button name="button" class="btn btn-warning" ng-click="saveConfig(config)" translate>save</button>
          </form>

            </div>
          </div>
        </uib-tab>

        <uib-tab heading="{{ 'navi_gami.challenges_tab_header' | translate }}">
          <table class="table m-t-lg">
            <thead>
              <tr>
                <th style="width:20%" translate>{{ 'navi_gami.trigger_title' }}</th>
                <th style="width:25%" translate>{{ 'navi_gami.associated_object' }}</th>
                <th style="width:10%" translate>{{ 'navi_gami.active' }}</th>
                <th style="width:15%" translate>{{ 'navi_gami.medal_id' }}</th>
                <th style="width:25%"></th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="challenge in challenges">
                <td>
                  {{ "navi_gami.challenge_keys."+challenge.key | translate }}
                </td>
                <td class="">{{ challenge.training.name || '-' }}</td>
                <td class="">
                  <input bs-switch
                         ng-model="challenge.active"
                         id=""
                         type="checkbox"
                         class="form-control"
                         switch-on-text="{{ 'yes' | translate }}"
                         switch-off-text="{{ 'no' | translate }}"
                         switch-animate="true"/>
                </td>
                <td>
                  <input type="text" ng-model="challenge.medal_id" value="">
                </td>
                <td>
                  <div class="buttons">
                    <button class="btn btn-warning" ng-click="saveChallenge($index)">
                      {{ 'save' | translate }}
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </uib-tab>
      </uib-tabset>
    </div>
  </div>
</section>
